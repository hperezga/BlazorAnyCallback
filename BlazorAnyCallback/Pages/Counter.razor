@page "/counter"
@using OneOf

<PageTitle>Counter</PageTitle>

<h1>Counter</h1>

<p role="status">Current count: @currentCount</p>

<button class="btn btn-primary" @onclick="IncrementCount">Click me</button>
<button class="btn btn-primary" @onclick="AsyncIncrementCount">Click me</button>

<div>
    <FunnyButton Callback=new(GetFunnySync) />
</div>

<div>
    <FunnyButton Callback=@new(GetFunnyAsync) />
</div>

<div>
    <FunnyButton Callback="new(() => GetFunnySync())" />
</div>


@code {
    private int currentCount = 0;

    private void IncrementCount()
    {
        currentCount++;
    }

    private async Task AsyncIncrementCount()
    {
        await Task.Run(() => currentCount++);
    }

    private string GetFunnySync() => "Ok, funny call.";
    private async Task<string> GetFunnyAsync() => await Task.FromResult("Ok, funny async call.");
}
